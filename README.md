# everything-recognition
Упражнение на чтение кода курсов devman.org.

Скрипт запускает видеопоток с веб-камеры и распознает различные образы. Распознанные элементы обводятся цветной рамкой. Используется open source библиотека компьютерного зрения OpenCV для Python версия 3.4.17.61. Для распознавания образов использутся каскады, сохраненные в xml (признаки Хаара). 

* Документация на OpenCV для Python: https://docs.opencv.org/4.x/d0/de3/tutorial_py_intro.html
* О каскадах Хаара: 
    - https://habr.com/ru/post/504288/
    - https://ru.wikipedia.org/wiki/Признаки_Хаара

## Как установить и запустить
1. Для работы необходима веб-камера. Протестирована в Windows. В WSL не заработала.
2. Склонировать репозиторий
3. Установить зависимости:
`pip install -r requirements.txt`
4. Запустить:
`python run.py`
5. Для выхода из программы нажмите q.

"Из коробки" включено распознавание лица (профиль, анфас) и глаз. Для настройки других распознаваемых образов см. описание файла config.py.

## Каталог haarcascades
Каталог содержит каскады Хаара различных образов в виде xml-файлов:
- лица людей, глаза, улыбка, тело
- Российский номерной знак
- морда кошки
- дорожные знаки
- бананы
- автомобили

## Файл config.py
В файле указаны каскады, которые будут использоваться для распознавания.
Можно добавить другие образы, изменить цвет рамок, включить либо выключить распознавание отдельных образов.

__Пример__
```python
 "Face front": {
        "path": "haarcascades/faces/haarcascade_frontalface_default.xml",
        "color": (255, 0, 0),
        "draw": True
    }
```
- path - путь до файла каскада.
- color - цвет рамки (blue, green, red).
- draw - значение True - распознает образ, False - нет.

## Файл run.py
Файл содержит основную логику программы.

В момент запуска загружает параметры работы программы из файла config.py (каскад Хаара для образа, цвет рамки, рспознавать ли образ).  

Запускает видеопоток с веб-камеры. Если запустить не удалось, то выведет сообщение об ошибке: Couldn't find your webcam... Sorry :c

Программа считывает кадр из видеопотока и применяются каскады для распознавания образов и если образ найден, то он выделяется рамкой соответствующего цвета.

Для завершения программы нужно нажать клавишу q.